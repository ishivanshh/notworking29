<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Week 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;600&family=Inter:wght@300;500;700&family=Pacifico&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background: #fff5f5;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .romantic-title { font-family: 'Dancing Script', cursive; }
        .fancy-title { font-family: 'Pacifico', cursive; }
        .elegant-text { font-family: 'Great Vibes', cursive; }
        
        .aesthetic-font {
            font-family: 'Inter', sans-serif;
            letter-spacing: -0.01em;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .day-card {
            aspect-ratio: 1 / 1;
            transition: all 0.3s ease;
        }

        .heart-pulse { animation: pulse 1.5s infinite; }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .city-pulse { animation: ring 2s infinite; }
        @keyframes ring {
            0% { r: 4; opacity: 1; }
            100% { r: 12; opacity: 0; }
        }

        .emoji-particle {
            position: fixed;
            pointer-events: none;
            z-index: 100;
            animation: floatUp 3s ease-out forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }

        /* Dropping Photos Animation */
        .dropping-photo {
            position: fixed;
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 12px;
            border: 3px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            top: -100px;
            animation: dropLoop 6s linear infinite;
        }

        @keyframes dropLoop {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }

        .modal-active { display: flex !important; }

        .rules-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.8s cubic-bezier(0.4, 0, 0.2, 1), padding 0.5s ease;
        }

        .rules-open .rules-content {
            max-height: 1000px;
            padding: 1.5rem;
        }

        .rules-paper {
            background: #ffffff;
            border-radius: 1.5rem;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
        }

        .timer-badge {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 10px rgba(244, 114, 182, 0.2);
            backdrop-blur: 4px;
        }

        .toast-msg {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: #be185d;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 99px;
            font-size: 0.875rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 100;
            text-align: center;
        }

        .traveling-heart {
            offset-path: path('M 390 270 Q 425 295 460 330');
            animation: moveHeart 3s infinite ease-in-out;
        }

        @keyframes moveHeart {
            0% { offset-distance: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { offset-distance: 100%; opacity: 0; }
        }

        .route-path {
            stroke-dasharray: 200;
            stroke-dashoffset: 200;
            animation: drawRoute 10s linear infinite;
        }

        @keyframes drawRoute { to { stroke-dashoffset: 0; } }

        .progress-line {
            height: 4px;
            background: #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #22c55e;
            width: 0%;
            transition: width 1s ease-in-out;
        }

        .blinkit-status { animation: fadeInOut 2s infinite; }
        @keyframes fadeInOut { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }

        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            cursor: pointer;
            z-index: 100;
            color: #be185d;
            border: 1px solid #fce7f3;
            transition: all 0.2s ease;
        }
        .nav-btn:hover { background: #fff5f5; scale: 1.1; }
        .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }
        .nav-left { left: -20px; }
        .nav-right { right: -20px; }

        .modal-close-btn {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            transition: all 0.2s ease;
            z-index: 110;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        .delivery-bike { 
            transition: transform 1s ease-in-out; 
        }

        /* Party Popper Animation */
        @keyframes popLeft {
            0% { transform: rotate(-45deg) scale(0); opacity: 0; }
            50% { transform: rotate(-45deg) scale(1.2); opacity: 1; }
            100% { transform: rotate(-45deg) scale(1); opacity: 1; }
        }
        @keyframes popRight {
            0% { transform: rotate(45deg) scale(0); opacity: 0; }
            50% { transform: rotate(45deg) scale(1.2); opacity: 1; }
            100% { transform: rotate(45deg) scale(1); opacity: 1; }
        }
        .popper-left {
            position: fixed;
            bottom: 40px;
            left: 40px;
            font-size: 80px;
            z-index: 1000;
            animation: popLeft 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            pointer-events: none;
        }
        .popper-right {
            position: fixed;
            bottom: 40px;
            right: 40px;
            font-size: 80px;
            z-index: 1000;
            animation: popRight 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            pointer-events: none;
        }

        @media (min-width: 640px) {
            .nav-left { left: -50px; }
            .nav-right { right: -50px; }
        }
    </style>
</head>
<body class="p-4 md:p-8 flex items-center justify-center min-h-screen">
    
    <!-- Lockout Overlay for Day 8 -->
    <div id="site-lockout" class="fixed inset-0 bg-black z-[9999] hidden flex-col items-center justify-center p-8 text-center">
        <div class="max-w-md">
            <h2 class="text-white text-2xl font-bold mb-6 aesthetic-font">you betrayed me so now going to block all the upcoming dates</h2>
            <p class="text-gray-400 mb-8 text-sm italic">ask the code from user to unlock</p>
            <input type="text" id="unlock-code" maxlength="4" placeholder="____" class="bg-gray-900 border-2 border-pink-500 text-white text-3xl tracking-[0.5em] text-center w-full p-4 rounded-2xl mb-6 focus:outline-none">
            <button onclick="handleUnlock()" class="bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-8 rounded-full w-full transition-all">Unlock</button>
        </div>
    </div>

    <!-- Forgiveness Card (Shows after unlock) -->
    <div id="forgiveness-card" class="fixed inset-0 bg-white/95 backdrop-blur-md z-[9999] hidden flex-col items-center justify-center p-8 text-center">
        <div class="max-w-md bg-pink-50 p-8 rounded-[3rem] shadow-2xl border-4 border-pink-100">
            <div class="text-6xl mb-6">üíñ</div>
            <h2 class="romantic-title text-3xl text-pink-600 mb-4">maaf krdiya iss baar</h2>
            <p class="elegant-text text-2xl text-gray-700">aage se ni krunga, stay with me love me and kiss me</p>
            <button onclick="closeForgiveness()" class="mt-8 bg-pink-500 text-white px-8 py-2 rounded-full font-bold">I Promise ‚ù§Ô∏è</button>
        </div>
    </div>

    <div id="calendar-toast-wait" class="toast-msg">Wait for the magic day! ‚ù§Ô∏è</div>

    <div id="countdown-wrapper" class="fixed top-4 right-4 z-40 hidden">
        <div class="timer-badge border border-pink-200 rounded-2xl p-3 flex flex-col items-center">
            <span class="text-[10px] uppercase font-bold text-pink-500 tracking-wider">Magic Begins In</span>
            <div id="countdown-timer" class="font-mono text-pink-600 font-bold text-lg">00:00:00:00</div>
        </div>
    </div>

    <div class="max-w-md w-full mx-auto space-y-6 relative">
        <div class="bg-white/85 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden border border-pink-100 relative">
            <!-- Background Map SVG -->
            <div class="absolute inset-0 z-0 opacity-40 pointer-events-none p-4">
                <svg viewBox="0 0 1000 1000" class="w-full h-full drop-shadow-lg" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M420,120 L480,150 L520,200 L550,280 L650,320 L720,400 L750,550 L700,680 L620,780 L520,880 L480,950 L440,880 L350,750 L280,600 L250,450 L220,380 L280,280 L350,200 Z" fill="#FFF1F2" stroke="#FDA4AF" stroke-width="3" />
                    <path id="connection-arc" d="M 390 270 Q 425 295 460 330" stroke="#F43F5E" stroke-width="2" stroke-dasharray="6,4" opacity="0.6" />
                    <circle cx="390" cy="270" r="4" fill="#BE185D" />
                    <circle cx="390" cy="270" r="4" stroke="#BE185D" stroke-width="1" fill="none" class="city-pulse" />
                    <text x="340" y="265" fill="#9D174D" font-size="16" font-weight="bold">GZB</text>
                    <circle cx="460" cy="330" r="4" fill="#BE185D" />
                    <circle cx="460" cy="330" r="4" stroke="#BE185D" stroke-width="1" fill="none" class="city-pulse" />
                    <text x="470" y="345" fill="#9D174D" font-size="16" font-weight="bold">LKO</text>
                    <text font-size="28" class="traveling-heart">‚ù§Ô∏è</text>
                </svg>
            </div>

            <div class="bg-gradient-to-r from-pink-500 to-rose-400 p-6 text-white text-center relative z-10 shadow-md">
                <h1 class="romantic-title text-4xl mb-2">Valentine's Week</h1>
                <p class="text-pink-50 font-medium tracking-wide">Let's make your week special</p>
            </div>

            <div class="p-6 relative z-10">
                <div class="calendar-grid mb-4">
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Sun</div>
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Mon</div>
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Tue</div>
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Wed</div>
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Thu</div>
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Fri</div>
                    <div class="text-center text-[10px] font-bold text-rose-300 uppercase tracking-tighter">Sat</div>
                </div>
                <div id="calendar-days" class="calendar-grid"></div>
            </div>

            <div class="p-4 text-center text-pink-400 text-xs italic relative z-10 bg-white/40 backdrop-blur-sm">
                Each heart holds a promise for us...
            </div>
        </div>

        <div id="rules-container" class="bg-white/90 backdrop-blur-md rounded-3xl shadow-xl border border-pink-100 overflow-hidden transition-all duration-500">
            <button onclick="toggleRules()" class="w-full p-5 flex items-center justify-center gap-3 text-pink-600 font-bold hover:bg-pink-50 transition-colors">
                <span class="text-2xl">üìú</span>
                <span class="text-xl aesthetic-font font-bold">Game Rules</span>
                <span id="chevron" class="transition-transform duration-300 text-sm opacity-50">‚ñº</span>
            </button>
            <div class="rules-content px-0">
                <div class="rules-paper p-6 text-gray-700 leading-relaxed aesthetic-font text-sm space-y-3">
<p>01. One day at a time: Only the heart for the current date will be unlocked.</p>
                    <p>02. Question on 9th day gives you only 2 chances after that it will take wrong input also</p>
                    <p>03. Dont try to cheat while playing the game</p>
                    <p>04. whenever the page ask code, contact the coder!</p>
                    <p>05. Always remeber it, ultimate goal to make you happy</p>
                    <p>LOVE YOU!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN INTERACTIVE MODAL -->
    <div id="wish-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden items-center justify-center z-50 p-6 overflow-y-auto">
        <div class="relative max-w-sm w-full transition-all duration-300" id="modal-container">
            <button id="nav-back" onclick="navigateBack()" class="nav-btn nav-left" disabled>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
            </button>
            <button id="nav-forward" onclick="navigateForward()" class="nav-btn nav-right" disabled>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
            </button>

            <button onclick="closeModal()" class="modal-close-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>

            <div class="bg-white rounded-3xl p-8 text-center shadow-2xl transition-all scale-100 min-h-[320px] flex flex-col justify-center">
                <div id="modal-emoji" class="text-6xl mb-4"></div>
                <h2 id="modal-title" class="romantic-title text-3xl text-pink-600 mb-2"></h2>
                
                <div id="step-container">
                    <!-- Standard Quiz -->
                    <div id="step-quiz">
                        <p class="text-gray-600 text-md mb-4 font-semibold italic aesthetic-font" id="quiz-question"></p>
                        <input type="text" id="quiz-answer" placeholder="Your answer..." class="w-full border-2 border-pink-100 rounded-xl p-3 mb-4 text-center focus:outline-none focus:border-pink-300 transition-colors aesthetic-font">
                        <p id="quiz-error" class="text-red-400 text-xs mb-4 hidden">Answer is incorrect, try again!</p>
                        <button onclick="checkQuiz()" class="bg-pink-400 hover:bg-pink-500 text-white px-8 py-2 rounded-full font-bold transition-colors w-full mb-2 aesthetic-font">Submit Answer</button>
                    </div>

                    <!-- Day 7 Steps -->
                    <div id="step-reward-7" class="hidden">
                        <div class="w-full h-48 bg-pink-100 rounded-2xl mb-4 overflow-hidden flex items-center justify-center border-2 border-pink-50 relative">
                             <img src="rose.jpg" alt="Rose" class="w-full h-full object-cover">
                        </div>
                        <p class="text-gray-600 text-sm mb-6 leading-relaxed italic aesthetic-font">"Hukana Matata" ... Our first date ,first roses for you,so my starting of happy days.</p>
                        <button onclick="showHookQuestion()" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-2 rounded-full font-bold transition-colors w-full aesthetic-font">Happy</button>
                    </div>
                    <div id="step-hook" class="hidden">
                        <p class="text-pink-600 text-lg font-bold mb-6 aesthetic-font">Abhi kaha ja rahi ho cutie, fool nahi chahiye apko?</p>
                        <div class="flex gap-4">
                            <button onclick="handleHookYes()" class="bg-green-400 hover:bg-green-500 text-white px-6 py-2 rounded-full font-bold flex-1 aesthetic-font">Yes</button>
                            <button onclick="transitionTo('step-propose-forever')" class="bg-gray-400 hover:bg-gray-500 text-white px-6 py-2 rounded-full font-bold flex-1 aesthetic-font">No</button>
                        </div>
                    </div>
                    <div id="step-pre-mini-game" class="hidden">
                        <p class="text-pink-600 text-xl font-bold mb-8 aesthetic-font italic">"firstly answer these questions"</p>
                        <button onclick="startMiniGame()" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-2 rounded-full font-bold transition-colors w-full aesthetic-font">Bring it on!</button>
                    </div>
                    <div id="step-mini-game" class="hidden">
                        <p id="mini-game-q" class="text-gray-700 text-lg font-medium mb-8 aesthetic-font leading-relaxed"></p>
                        <div id="mini-game-options" class="flex flex-col gap-3"></div>
                    </div>
                    <div id="step-result" class="hidden">
                        <div id="result-text-container" class="mb-8">
                            <p id="result-text" class="text-gray-700 text-sm aesthetic-font"></p>
                        </div>
                        <button id="result-btn" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-2 rounded-full font-bold transition-colors w-full aesthetic-font"></button>
                    </div>
                    <div id="step-secret-code" class="hidden">
                        <p class="text-pink-600 text-lg font-bold mb-4 aesthetic-font">Enter the 4-digit secret code</p>
                        <input type="text" id="code-input" maxlength="4" placeholder="____" class="w-full border-2 border-pink-100 rounded-xl p-3 mb-4 text-center tracking-[0.5em] text-xl font-bold">
                        <p id="code-error" class="text-red-400 text-xs mb-4 hidden">Answer is incorrect, try again!</p>
                        <button onclick="validateSecretCode()" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-2 rounded-full font-bold transition-colors w-full aesthetic-font">Unlock Surprise</button>
                    </div>

                    <!-- Day 8 Specific Steps -->
                    <div id="step-propose-intro" class="hidden">
                        <h3 class="text-pink-600 text-2xl font-bold mb-2 aesthetic-font">Will you be my girlfriend?</h3>
                        <p class="elegant-text text-xl text-gray-400 mb-8">:sorry wife</p>
                        <div class="flex gap-4">
                            <button onclick="handleProposeYes()" class="bg-green-500 hover:bg-green-600 text-white px-8 py-2 rounded-full font-bold flex-1">Yes</button>
                            <button onclick="handleProposeNo()" class="bg-gray-400 hover:bg-gray-500 text-white px-8 py-2 rounded-full font-bold flex-1">No</button>
                        </div>
                    </div>
                    <div id="step-propose-yes" class="hidden">
                        <div class="bg-pink-50 p-6 rounded-3xl border-2 border-pink-100 mb-6">
                            <p class="romantic-title text-3xl text-pink-600 mb-2">hehe,</p>
                            <p class="elegant-text text-2xl text-gray-700">you are already mine, cutie</p>
                        </div>
                        <button onclick="transitionTo('step-propose-final')" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-2 rounded-full font-bold w-full aesthetic-font">Final</button>
                    </div>
                    <div id="step-propose-final" class="hidden">
                        <div class="w-full h-65 bg-pink-50 rounded-[2rem] overflow-hidden mb-6 border-2 border-pink-100 shadow-inner">
                            <img src="photos/final.jpg" class="w-full h-full object-fit">
                        </div>
                        <h3 class="romantic-title text-3xl text-pink-600 mb-3">My Forever Destination</h3>
                        <p class="text-gray-600 text-sm leading-relaxed aesthetic-font italic px-2">
The day you asked me this question,you thought this photo made me laugh at you but i this made me more in love with you. so apne pucha h biwi banane k liye so big yes, can never say no to you for this. i love you and open to marry you anytime.
                        </p>
                    </div>
                    <div id="step-propose-no" class="hidden">
                        <div class="w-full h-48 bg-gray-100 rounded-2xl mb-4 overflow-hidden border-2 border-gray-200">
                             <img src="photos/bdla.jpg" alt="Betrayal" class="w-full h-full object-cover">
                        </div>
                        <p class="text-rose-600 font-bold text-lg mb-6 aesthetic-font">dediya na dhoka janta tha , ab bdla lunga</p>
                        <button onclick="handleSorry()" class="bg-black text-white px-8 py-2 rounded-full font-bold w-full aesthetic-font">sorry</button>
                    </div>
                    <div id="step-propose-forever" class="hidden">
                        <p class="romantic-title text-2xl text-pink-600 mb-6">You are already my forever ‚ù§Ô∏è</p>
                    </div>

                    <!-- Day 9 Specific Access Alert -->
                    <div id="step-access-check-9" class="hidden">
                        <div class="bg-red-50 border-4 border-red-200 p-6 rounded-[2.5rem] shadow-xl text-center">
                            <div class="text-5xl mb-4">üö®</div>
                            <p class="text-red-600 font-black text-xl mb-8 aesthetic-font uppercase leading-tight italic">"did you show boobies to shivi ? dont lie"</p>
                            <div class="flex gap-4">
                                <button onclick="transitionTo('step-chocolate-selection')" class="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-bold flex-1 aesthetic-font shadow-md">Yes</button>
                                <button onclick="transitionTo('step-access-refusal-9')" class="bg-gray-400 hover:bg-gray-500 text-white px-6 py-2 rounded-full font-bold flex-1 aesthetic-font shadow-md">No</button>
                            </div>
                        </div>
                    </div>

                    <div id="step-access-refusal-9" class="hidden text-center">
                        <div class="text-6xl mb-6">ü§®</div>
                        <p class="text-gray-700 text-xl font-black mb-8 aesthetic-font leading-relaxed">go and show right now then come back and access..</p>
                        <button onclick="closeModal()" class="bg-pink-500 hover:bg-pink-600 text-white px-10 py-3 rounded-full font-bold aesthetic-font shadow-lg">Okay ü´°</button>
                    </div>

                    <!-- Day 9 (Chocolate) -->
                    <div id="step-chocolate-selection" class="hidden">
                        <p class="mb-4 text-pink-600 font-bold text-xl aesthetic-font text-center">Which chocolate my baby wants to eat?</p>
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="handleChocolateChoice()" class="bg-pink-50 p-4 rounded-2xl text-pink-700 font-bold hover:bg-pink-100 transition shadow-sm">Kitkat</button>
                            <button onclick="handleChocolateChoice()" class="bg-pink-50 p-4 rounded-2xl text-pink-700 font-bold hover:bg-pink-100 transition shadow-sm">Kinder Joy</button>
                            <button onclick="handleChocolateChoice()" class="bg-pink-50 p-4 rounded-2xl text-pink-700 font-bold hover:bg-pink-100 transition shadow-sm">Dairy Milk</button>
                            <button onclick="handleChocolateChoice()" class="bg-pink-50 p-4 rounded-2xl text-pink-700 font-bold hover:bg-pink-100 transition shadow-sm">Kisses</button>
                        </div>
                    </div>

                    <div id="step-chocolate-pre-quiz" class="hidden">
                        <div class="bg-green-50 p-6 rounded-3xl border-2 border-green-100 mb-6 text-center">
                            <p class="text-green-700 text-lg font-bold mb-2">Okay ma'am!</p>
                            <p class="text-gray-600 italic">Your order will be delivered at your door steps üç´</p>
                        </div>
                        <p class="text-pink-600 font-bold mb-4 aesthetic-font text-center">But first answer these questions...</p>
                        <button onclick="startChocolateQuiz()" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-2 rounded-full font-bold w-full aesthetic-font">Ready</button>
                    </div>

                    <div id="step-chocolate-quiz" class="hidden">
                        <p class="text-[10px] text-gray-400 mb-2 font-bold uppercase tracking-widest text-center">Question <span id="choco-q-num">1</span>/3</p>
                        <p id="choco-q-text" class="text-lg text-pink-600 font-bold mb-6 aesthetic-font leading-tight text-center"></p>
                        <input type="text" id="choco-q-input" placeholder="Fill in the blank" class="w-full border-2 border-pink-100 rounded-xl p-3 mb-2 text-center focus:outline-none focus:border-pink-300 aesthetic-font">
                        <p id="choco-error-msg" class="text-red-400 text-[10px] mb-4 h-4 hidden text-center">Answer is incorrect, try again!</p>
                        <button onclick="checkChocolateAnswer()" class="bg-pink-500 text-white px-8 py-2 rounded-full font-bold w-full aesthetic-font">Submit</button>
                    </div>
                    
                    <div id="step-chocolate-lost" class="hidden">
                        <div class="text-6xl mb-4 text-center">üòø</div>
                        <h3 class="text-xl font-bold text-gray-700 mb-2 aesthetic-font text-center">Oops baby you lost this game</h3>
                        <p class="text-gray-500 mb-6 text-sm text-center">Ask for the code from user to try again!</p>
                        <input type="text" id="choco-retry-code" maxlength="4" placeholder="____" class="w-full border-2 border-pink-100 rounded-xl p-3 mb-4 text-center tracking-[0.5em] text-xl font-bold focus:outline-none focus:border-pink-300">
                        <p id="choco-retry-error" class="text-red-400 text-[10px] mb-4 hidden text-center">Answer is incorrect, try again!</p>
                        <button onclick="retryChocolateGame()" class="bg-pink-500 text-white px-8 py-2 rounded-full font-bold w-full aesthetic-font">Retry</button>
                    </div>

                    <div id="step-chocolate-final-q" class="hidden">
                        <p class="text-pink-600 text-lg font-bold mb-6 aesthetic-font text-center">Last chance! How many types of flavour we have used?</p>
                        <input type="text" id="choco-final-input" placeholder="Enter number..." class="w-full border-2 border-pink-100 rounded-xl p-3 mb-2 text-center focus:outline-none focus:border-pink-300 aesthetic-font">
                        <p id="choco-final-error" class="text-red-400 text-[10px] mb-4 hidden text-center">Answer is incorrect, try again!</p>
                        <button onclick="checkChocolateFinalAnswer()" class="bg-pink-500 text-white px-8 py-2 rounded-full font-bold w-full aesthetic-font">Finish</button>
                    </div>

                    <!-- Beautiful Blinkit Card -->
                    <div id="step-blinkit" class="hidden text-left">
                        <div class="bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 p-6 rounded-[2.5rem] mb-4 shadow-xl relative overflow-hidden">
                            <div class="absolute -top-4 -right-4 w-20 h-20 bg-yellow-200/20 rounded-full blur-2xl"></div>
                            <div class="flex justify-between items-center mb-4 relative z-10">
                                <div class="flex items-center gap-2">
                                    <span class="bg-yellow-400 text-white p-1 rounded-md text-[8px] font-black italic">blinkit</span>
                                    <span class="text-yellow-700 font-bold text-[10px] uppercase tracking-widest">Delivery Card</span>
                                </div>
                                <span class="text-green-600 font-bold text-[10px] blinkit-status px-2 py-1 bg-green-50 rounded-full" id="delivery-time-msg">deliver in 10 mins</span>
                            </div>
                            <div class="bg-white/80 backdrop-blur-sm p-4 rounded-2xl mb-4 border border-white">
                                <p id="delivery-main-msg" class="text-rose-500 font-bold text-sm mb-1 leading-relaxed aesthetic-font"></p>
                                <p class="text-gray-400 text-[10px] italic">Converting status: Processing... ‚ú®</p>
                            </div>
                            <div class="progress-line rounded-full mb-4 bg-gray-200/50">
                                <div id="progress-bar" class="progress-fill rounded-full bg-gradient-to-r from-green-400 to-green-500"></div>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="w-12 h-12 bg-white rounded-full shadow-md flex items-center justify-center text-2xl delivery-bike border-2 border-yellow-100" id="bike">üö¥</div>
                                <div class="text-xs">
                                    <p class="font-bold text-gray-800" id="delivery-status-msg">Order is on the way</p>
                                    <p class="text-gray-500 flex items-center gap-1">Shop <span class="text-[8px]">‚ñ∂</span> My Baby</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="step-teddy-1" class="hidden text-center">üß∏ Coming Soon!</div>
                    <div id="step-promise-video-intro" class="hidden text-center">ü§ù Coming Soon!</div>
                    <div id="step-hug-1" class="hidden text-center">ü´Ç Coming Soon!</div>
                    <div id="step-kiss-1" class="hidden text-center">üíã Coming Soon!</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden Party Poppers -->
    <div id="party-poppers" class="hidden">
        <div class="popper-left">üéâ</div>
        <div class="popper-right">üéâ</div>
    </div>

    <script>
        const apiKey = ""; 
        const START_DATE = new Date("February 7, 2026 00:00:00").getTime();
        
        let currentDayActive = null;
        let miniGameScore = 0;
        let miniGameIndex = 0;
        let photoDropInterval = null;
        
        // Day 9 Specific Variables
        let chocoQIndex = 0;
        let chocoAttemptsLeft = 3;
        let chocoCorrectCount = 0;
        const chocoQuestions = [
            { q: "which is my favourite thing to eat_____", a: "chole bhature" },
            { q: "Most important thing in you which i like the most", a: "everything" },
            { q: "how many pairs of shots i have rn _____", a: "4" }
        ];
        
        let historyStack = [];
        let historyPointer = -1;

        const DEV_MODE = true; 

        const vWeek = {
            7: { name: "Happy Cutie Day!", emoji: "üåπ", question: "Tell me the place when i bought you roses for first time?", answer: "hukana matata" },
            8: { name: "", emoji: "üíç", question: "which month of 2025 we spend most of the time together", answer: "december" },
            9: { name: "Chocolate Day", emoji: "üç´", question: "", answer: "" }, 
            10: { name: "Teddy Day", emoji: "üß∏", question: "Hundred Acre Wood bear name?", answer: "pooh" },
            11: { name: "Promise Day", emoji: "ü§ù", question: "Finger for promise?", answer: "pinky" },
            12: { name: "Hug Day", emoji: "ü§ó", question: "Arms for hug?", answer: "four" },
            13: { name: "Kiss Day", emoji: "üíã", question: "Date of last kiss?", answer: "secret" }, 
            14: { name: "Valentine's Day", emoji: "‚ù§Ô∏è", question: "Who is the god of love?", answer: "cupid" }
        };

        function transitionTo(stepId) {
            historyStack = historyStack.slice(0, historyPointer + 1);
            historyStack.push(stepId);
            historyPointer++;
            renderStep(stepId);
        }

        function renderStep(stepId) {
            const steps = [
                'step-quiz', 'step-reward-7', 'step-hook', 'step-pre-mini-game', 'step-mini-game', 'step-result', 
                'step-secret-code', 'step-blinkit', 'step-propose-intro', 'step-propose-yes', 'step-propose-no', 
                'step-propose-forever', 'step-propose-final', 
                'step-access-check-9', 'step-access-refusal-9',
                'step-chocolate-selection', 'step-chocolate-pre-quiz', 'step-chocolate-quiz', 'step-chocolate-lost',
                'step-chocolate-final-q', 'step-teddy-1', 'step-promise-video-intro', 'step-hug-1', 'step-kiss-1'
            ];
            steps.forEach(s => {
                const el = document.getElementById(s);
                if (el) el.classList.add('hidden');
            });

            document.getElementById(stepId).classList.remove('hidden');

            document.getElementById('nav-back').disabled = (historyPointer <= 0);
            document.getElementById('nav-forward').disabled = (historyPointer >= historyStack.length - 1);

            const titleEl = document.getElementById('modal-title');
            const emojiEl = document.getElementById('modal-emoji');
            
            if (currentDayActive == 8 || currentDayActive == 9) {
                titleEl.classList.add('hidden');
                emojiEl.classList.add('hidden');
            } else if (currentDayActive == 7 && stepId !== 'step-quiz' && stepId !== 'step-reward-7') {
                titleEl.classList.add('hidden');
                emojiEl.classList.add('hidden');
            } else {
                titleEl.classList.remove('hidden');
                emojiEl.classList.remove('hidden');
            }
        }

        function navigateBack() { 
            stopPhotoDrop();
            if (historyPointer > 0) { historyPointer--; renderStep(historyStack[historyPointer]); } 
        }
        function navigateForward() { 
            stopPhotoDrop();
            if (historyPointer < historyStack.length - 1) { historyPointer++; renderStep(historyStack[historyPointer]); } 
        }

        function showWish(day) {
            const now = new Date().getTime();
            const dayDate = new Date(`February ${day}, 2026 00:00:00`).getTime();
            
            if (!DEV_MODE && now < dayDate) {
                showToast("Wait for the magic day! ‚ù§Ô∏è");
                return;
            }

            currentDayActive = day;
            const container = document.getElementById('modal-container');
            container.className = day === 13 ? "relative max-w-md w-full transition-all duration-300" : "relative max-w-sm w-full transition-all duration-300";
            historyStack = []; historyPointer = -1;
            
            document.getElementById('modal-emoji').innerText = "‚ùì";
            document.getElementById('modal-title').innerText = vWeek[day].name;
            document.getElementById('quiz-question').innerText = vWeek[day].question;
            document.getElementById('quiz-answer').value = "";
            document.getElementById('quiz-error').classList.add('hidden');

            if (day == 9) {
                transitionTo('step-access-check-9');
            }
            else transitionTo('step-quiz');

            document.getElementById('wish-modal').classList.add('modal-active');
        }

        function checkQuiz() {
            const val = document.getElementById('quiz-answer').value.toLowerCase().trim();
            const data = vWeek[currentDayActive];
            if (val === data.answer || (DEV_MODE && val === "skip")) {
                document.getElementById('modal-emoji').innerText = data.emoji;
                if (currentDayActive == 7) transitionTo('step-reward-7');
                else if (currentDayActive == 8) transitionTo('step-propose-intro');
                else if (currentDayActive == 13) transitionTo('step-kiss-1');
                else transitionTo('step-reward-7');
                spawnEmojis(data.emoji);
            } else { 
                const err = document.getElementById('quiz-error');
                err.innerText = "Answer is incorrect, try again!";
                err.classList.remove('hidden'); 
            }
        }

        // --- Day 8 Logic ---
        function handleProposeYes() { transitionTo('step-propose-yes'); startPhotoDrop(); }
        function handleProposeNo() { transitionTo('step-propose-no'); }
        function handleSorry() { closeModal(); document.getElementById('site-lockout').classList.remove('hidden'); }
        function handleUnlock() {
            if (document.getElementById('unlock-code').value === "0000") {
                document.getElementById('site-lockout').classList.add('hidden');
                document.getElementById('forgiveness-card').classList.remove('hidden');
            } else showToast("Answer is incorrect, try again!");
        }
        function closeForgiveness() { document.getElementById('forgiveness-card').classList.add('hidden'); }
        function startPhotoDrop() {
            stopPhotoDrop();
            const photos = [
 "photos/1.jpg",
                "photos/2.jpg",
                "photos/3.jpg",
                "photos/4.jpg",
                "photos/5.jpg",
                "photos/6.jpg",
                "photos/7.jpg",
                "photos/10.jpg",
                "photos/9.jpg",
                "photos/8.jpg",
            ];
            photoDropInterval = setInterval(() => {
                const img = document.createElement('img');
                img.src = photos[Math.floor(Math.random() * photos.length)];
                img.className = 'dropping-photo';
                img.style.left = Math.random() * 90 + 'vw';
                img.style.animationDuration = (Math.random() * 3 + 4) + 's';
                document.body.appendChild(img);
                setTimeout(() => img.remove(), 6000);
            }, 600);
        }
        function stopPhotoDrop() { if (photoDropInterval) clearInterval(photoDropInterval); document.querySelectorAll('.dropping-photo').forEach(p => p.remove()); }

        // --- Day 9 Logic ---
        function handleChocolateChoice() { transitionTo('step-chocolate-pre-quiz'); }
        function startChocolateQuiz() {
            chocoQIndex = 0; chocoCorrectCount = 0;
            renderChocolateQuestion();
            transitionTo('step-chocolate-quiz');
        }
        function renderChocolateQuestion() {
            chocoAttemptsLeft = 3;
            document.getElementById('choco-q-num').innerText = chocoQIndex + 1;
            document.getElementById('choco-q-text').innerText = chocoQuestions[chocoQIndex].q;
            document.getElementById('choco-q-input').value = "";
            document.getElementById('choco-error-msg').classList.add('hidden');
        }
        function checkChocolateAnswer() {
            const input = document.getElementById('choco-q-input').value.toLowerCase().trim();
            const correctAnswer = chocoQuestions[chocoQIndex].a;
            
            if (input === correctAnswer || (DEV_MODE && input === "skip")) {
                chocoCorrectCount++;
                goToNextChocolateQuestion();
            } else {
                chocoAttemptsLeft--;
                if (chocoAttemptsLeft > 0) {
                    const err = document.getElementById('choco-error-msg');
                    err.innerText = "Answer is incorrect, try again!";
                    err.classList.remove('hidden');
                } else {
                    goToNextChocolateQuestion();
                }
            }
        }
        function goToNextChocolateQuestion() {
            chocoQIndex++;
            if (chocoQIndex < chocoQuestions.length) {
                renderChocolateQuestion();
            } else {
                finishChocolateFlow();
            }
        }
        function finishChocolateFlow() {
            if (chocoCorrectCount >= 2) {
                triggerPartyPoppers();
                showFinalBlinkit("wow! baby you won chocolates but due to dieting plans , converting this to xoxox");
            } else {
                transitionTo('step-chocolate-lost');
            }
        }
        function retryChocolateGame() {
            const input = document.getElementById('choco-retry-code').value;
            if (input === "7654") {
                document.getElementById('choco-retry-error').classList.add('hidden');
                transitionTo('step-chocolate-final-q');
            } else {
                const err = document.getElementById('choco-retry-error');
                err.innerText = "Answer is incorrect, try again!";
                err.classList.remove('hidden');
            }
        }
        function checkChocolateFinalAnswer() {
            const input = document.getElementById('choco-final-input').value.trim();
            if (input === "3" || (DEV_MODE && input === "skip")) {
                triggerPartyPoppers();
                showFinalBlinkit("wow! baby you won chocolates but due to dieting plans , converting this to xoxox");
            } else {
                const err = document.getElementById('choco-final-error');
                err.innerText = "Answer is incorrect, try again!";
                err.classList.remove('hidden');
            }
        }
        function showFinalBlinkit(msg) {
            transitionTo('step-blinkit');
            document.getElementById('delivery-main-msg').innerText = msg;
            startBlinkitAnimation();
        }
        function triggerPartyPoppers() {
            const p = document.getElementById('party-poppers');
            p.classList.remove('hidden');
            setTimeout(() => p.classList.add('hidden'), 4000);
        }

        // --- Day 7 Logic ---
        function showHookQuestion() { transitionTo('step-hook'); }
        function handleHookYes() { transitionTo('step-pre-mini-game'); }
        function startMiniGame() { miniGameIndex = 0; miniGameScore = 0; transitionTo('step-mini-game'); renderMiniGameQuestion(); }
        function renderMiniGameQuestion() {
            const day7Qs = [
                { q: "1. how many flowers i gave you last month?", options: ["4", "8", "12", "10"], a: "8" },
                { q: "2. in which month we kissed for first time ?", options: ["Jan", "Feb", "Mar", "Apr"], a: "Feb" },
                { q: "3. how many days i can spend with you ?", options: ["Forever", "30", "0", "100"], a: "0" }
            ];
            const qData = day7Qs[miniGameIndex];
            document.getElementById('mini-game-q').innerText = qData.q;
            const optContainer = document.getElementById('mini-game-options');
            optContainer.innerHTML = '';
            qData.options.forEach(opt => {
                const b = document.createElement('button');
                b.className = "bg-white hover:bg-pink-50 text-gray-700 py-3 px-4 rounded-2xl text-sm font-medium border border-gray-100 transition-all text-left shadow-sm aesthetic-font";
                b.innerText = opt; 
                b.onclick = () => { if(opt.includes(qData.a)) miniGameScore++; miniGameIndex++; if(miniGameIndex < 3) renderMiniGameQuestion(); else showGameResult(); };
                optContainer.appendChild(b);
            });
        }
        function showGameResult() {
            const resText = document.getElementById('result-text');
            const resBtn = document.getElementById('result-btn');
            if (miniGameScore >= 2) {
                resText.innerHTML = `<span class="elegant-text text-3xl">Wow Baby You Won! üèÜ</span><p class="mt-2 text-gray-500 aesthetic-font text-sm">Time for a reward.</p>`;
                resBtn.innerText = "Check Surprise"; resBtn.onclick = () => transitionTo('step-secret-code');
            } else {
                resText.innerHTML = `<span class="elegant-text text-3xl text-rose-500">Oops you lost... ü•Ä</span><p class="mt-2 text-gray-500 aesthetic-font text-sm">But won my heart! Still get a surprise.</p>`;
                resBtn.innerText = "Check Surprise"; resBtn.onclick = () => { triggerPartyPoppers(); showFinalBlinkit("You lost, but my love is still on the way!"); };
            }
            transitionTo('step-result');
        }
        function validateSecretCode() {
            if (document.getElementById('code-input').value === "2323") {
                document.getElementById('code-error').classList.add('hidden'); transitionTo('step-blinkit'); startBlinkitAnimation();
            } else {
                const err = document.getElementById('code-error');
                err.innerText = "Answer is incorrect, try again!";
                err.classList.remove('hidden');
            }
        }

        function startBlinkitAnimation() {
            const bar = document.getElementById('progress-bar');
            const bike = document.getElementById('bike');
            if (bar) bar.style.width = "0%";
            if (bike) bike.style.transform = "translateX(0px)";
            
            setTimeout(() => { 
                if (bar) bar.style.width = "95%"; 
                if (bike) bike.style.transform = "translateX(160px)"; 
                spawnEmojis('üç´'); 
            }, 500);
        }

        function toggleRules() {
            const container = document.getElementById('rules-container');
            container.classList.toggle('rules-open');
            document.getElementById('chevron').style.transform = container.classList.contains('rules-open') ? 'rotate(180deg)' : 'rotate(0deg)';
        }

        function initCalendar() {
            const c = document.getElementById('calendar-days');
            for (let i = 1; i <= 28; i++) {
                const d = document.createElement('div');
                const isSpecial = vWeek[i];
                d.className = `day-card relative flex items-center justify-center rounded-xl border border-pink-50 text-[10px] font-semibold text-gray-700 ${isSpecial ? 'bg-rose-100 border-rose-300 cursor-pointer hover:scale-105 z-10' : 'bg-pink-50/30'}`;
                d.innerHTML = `<span>${i}</span>`;
                if (isSpecial) {
                    d.onclick = () => showWish(i);
                    d.innerHTML += `<div class="heart-pulse text-[8px] absolute bottom-1">‚ù§Ô∏è</div>`;
                }
                c.appendChild(d);
            }
        }

        function startCountdown() {
            const t = document.getElementById('countdown-timer');
            const w = document.getElementById('countdown-wrapper');
            const up = () => {
                const n = new Date().getTime();
                const d = START_DATE - n;
                if (d < 0) { w.classList.add('hidden'); return; }
                w.classList.remove('hidden');
                const ds = Math.floor(d / (1000 * 60 * 60 * 24));
                const hs = Math.floor((d % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const ms = Math.floor((d % (1000 * 60 * 60)) / (1000 * 60));
                const ss = Math.floor((d % (1000 * 60)) / 1000);
                t.innerText = `${ds.toString().padStart(2,'0')}:${hs.toString().padStart(2,'0')}:${ms.toString().padStart(2,'0')}:${ss.toString().padStart(2,'0')}`;
            };
            up(); setInterval(up, 1000);
        }

        function spawnEmojis(e) { 
            for (let i = 0; i < 20; i++) { 
                setTimeout(() => { 
                    const el = document.createElement('div'); 
                    el.className = 'emoji-particle'; 
                    el.innerText = e; 
                    el.style.left = Math.random() * 100 + 'vw'; 
                    el.style.top = '110vh'; 
                    document.body.appendChild(el); 
                    setTimeout(() => el.remove(), 3000); 
                }, i * 50); 
            } 
        }

        function showToast(msg) {
            const toast = document.getElementById('calendar-toast-wait');
            toast.innerText = msg;
            toast.style.opacity = '1';
            setTimeout(() => toast.style.opacity = '0', 3000);
        }

        function closeModal() { 
            stopPhotoDrop();
            document.getElementById('wish-modal').classList.remove('modal-active'); 
        }
        
        window.onload = () => { startCountdown(); initCalendar(); };
    </script>
</body>
</html>